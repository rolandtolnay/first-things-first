---
phase: 02-layout-calendar-grid
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/MainLayout.tsx
  - src/components/sidebar/Sidebar.tsx
  - src/app/page.tsx
autonomous: true

must_haves:
  truths:
    - "User sees sidebar on left taking approximately 25% width"
    - "User sees calendar area on right taking approximately 75% width"
    - "Layout fills full viewport height"
  artifacts:
    - path: "src/components/layout/MainLayout.tsx"
      provides: "Split layout with sidebar and calendar areas"
      min_lines: 20
      exports: ["MainLayout"]
    - path: "src/components/sidebar/Sidebar.tsx"
      provides: "Left sidebar container shell"
      min_lines: 15
      exports: ["Sidebar"]
  key_links:
    - from: "src/app/page.tsx"
      to: "MainLayout"
      via: "import and render"
      pattern: "import.*MainLayout"
    - from: "MainLayout.tsx"
      to: "Sidebar"
      via: "import and render in left area"
      pattern: "<Sidebar"
---

<objective>
Create the main application layout with sidebar/calendar split structure.

Purpose: Establish the foundational layout that all other calendar components will render within. The 25%/75% split provides space for role/goal management (sidebar) while giving the calendar maximum visibility.

Output: MainLayout component with CSS Grid, Sidebar shell component, updated app page rendering the layout.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase context
@.planning/phases/01-foundation-data-layer/01-01-SUMMARY.md
@.planning/phases/01-foundation-data-layer/01-03-SUMMARY.md

# Source files to understand
@src/app/layout.tsx
@src/app/globals.css
@src/app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MainLayout component with CSS Grid</name>
  <files>src/components/layout/MainLayout.tsx</files>
  <action>
    Create a client component (needs to wrap interactive children) that establishes the main app layout:

    1. Use CSS Grid with `grid-cols-[minmax(280px,25%)_1fr]` for sidebar (25% min 280px) + calendar (remaining)
    2. Set `min-h-screen` to fill viewport
    3. Accept `sidebar` and `children` props for composition
    4. Add subtle border between sidebar and main content using `border-r border-border`
    5. Apply `bg-background` to ensure theme colors work

    Structure:
    ```tsx
    <div className="grid grid-cols-[minmax(280px,25%)_1fr] min-h-screen bg-background">
      <aside className="border-r border-border overflow-y-auto">
        {sidebar}
      </aside>
      <main className="overflow-y-auto">
        {children}
      </main>
    </div>
    ```

    Export as named export. Use "use client" directive since children will be interactive.
  </action>
  <verify>TypeScript compiles: `npx tsc --noEmit`</verify>
  <done>MainLayout component exists with CSS Grid 25%/75% split layout</done>
</task>

<task type="auto">
  <name>Task 2: Create Sidebar shell component</name>
  <files>src/components/sidebar/Sidebar.tsx</files>
  <action>
    Create a client component for the left sidebar that will later contain roles and goals:

    1. Create `src/components/sidebar/` directory
    2. Create Sidebar.tsx with placeholder structure:
       - Header section with app title "First Things First" and ThemeToggle
       - Content area (empty for now, will hold roles/goals)
       - Use semantic padding: `p-4` for content areas
       - Apply `flex flex-col h-full` for proper layout

    Structure:
    ```tsx
    <div className="flex flex-col h-full">
      <header className="p-4 border-b border-border flex items-center justify-between">
        <h1 className="text-lg font-semibold text-foreground">First Things First</h1>
        <ThemeToggle />
      </header>
      <div className="flex-1 p-4 overflow-y-auto">
        {/* Roles and goals will be added in Phase 3 */}
        <p className="text-muted-foreground text-sm">Roles and goals will appear here</p>
      </div>
    </div>
    ```

    Import ThemeToggle from existing component. Export as named export.
  </action>
  <verify>TypeScript compiles: `npx tsc --noEmit`</verify>
  <done>Sidebar component exists with header containing title and theme toggle</done>
</task>

<task type="auto">
  <name>Task 3: Wire layout in app page</name>
  <files>src/app/page.tsx</files>
  <action>
    Update the home page to use the new layout components:

    1. Import MainLayout and Sidebar
    2. Replace current page content with MainLayout
    3. Pass Sidebar as the sidebar prop
    4. Add a placeholder for calendar content (will be replaced in 02-02)

    Structure:
    ```tsx
    import { MainLayout } from "@/components/layout/MainLayout";
    import { Sidebar } from "@/components/sidebar/Sidebar";

    export default function Home() {
      return (
        <MainLayout sidebar={<Sidebar />}>
          <div className="p-4">
            <p className="text-muted-foreground">Calendar will appear here</p>
          </div>
        </MainLayout>
      );
    }
    ```

    Remove the old color preview content and ThemeToggle from the page (it's now in Sidebar).
  </action>
  <verify>
    1. TypeScript compiles: `npx tsc --noEmit`
    2. Build succeeds: `npm run build`
    3. Dev server runs: `npm run dev` (manual check at localhost:3000)
  </verify>
  <done>App renders with sidebar on left (~25%) and placeholder calendar on right (~75%)</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx tsc --noEmit` passes
- [ ] `npm run build` succeeds
- [ ] All components export correctly
- [ ] Layout visible at localhost:3000 with sidebar/calendar split
</verification>

<success_criteria>
- All tasks completed
- MainLayout provides 25%/75% split with CSS Grid
- Sidebar displays with title and theme toggle
- App page renders the layout structure
- No TypeScript or build errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-layout-calendar-grid/02-01-SUMMARY.md`
</output>
